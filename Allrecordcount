import requests
from requests.auth import HTTPBasicAuth

# === CONFIGURATION ===
jira_url = "https://your-domain.atlassian.net/rest/api/2/myself"
jira_username = "your-email@example.com"
jira_api_token = "your-api-token"  # Use API token for Atlassian cloud

auth = HTTPBasicAuth(jira_username, jira_api_token)
headers = {
    "Accept": "application/json"
}

# === TEST CONNECTION ===
response = requests.get(jira_url, headers=headers, auth=auth)

if response.status_code == 200:
    user_data = response.json()
    print(f"✅ Connection successful! Authenticated as: {user_data['displayName']}")
else:
    print(f"❌ Connection failed with status code {response.status_code}")
    print(response.text)
