import requests
from requests.auth import HTTPBasicAuth

# === CONFIGURATION ===
jira_base_url = "https://your-domain.atlassian.net"
api_url = f"{jira_base_url}/rest/api/2/project/BICOE"  # Project metadata as test
jira_username = "your-email@example.com"
jira_api_token = "your-api-token"

# === AUTH ===
auth = HTTPBasicAuth(jira_username, jira_api_token)
headers = {
    "Accept": "application/json"
}

# === CALL ===
response = requests.get(api_url, headers=headers, auth=auth)

# === RESULT ===
if response.status_code == 200:
    print("✅ Connection to Jira (and Xray) successful!")
    print("Project name:", response.json().get("name"))
else:
    print("❌ Failed to connect to Jira.")
    print("Status code:", response.status_code)
    print("Error:", response.text)
