def complete_test_run(run_id):
    url = f"{azdo_base}/_apis/test/runs/{run_id}?api-version=7.1"
    payload = {
        "state": "Completed"
    }
    resp = requests.patch(url, auth=auth, headers=headers, json=payload)
    if resp.status_code in [200, 204]:
        print(f"✅ Test run {run_id} marked as Completed.")
    else:
        print(f"❌ Failed to complete test run: {resp.status_code} - {resp.text}")
