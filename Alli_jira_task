🔍 Test Scenario ID: EH-BR-06 – Field Completeness Check
🔹 Purpose
This scenario ensures that all mandatory fields defined in the MQS message contract and mapping document are present and non-null in each record ingested into the Bronze layer. The focus is to validate that critical business fields are not missing or empty, and to ensure consistent data structure for downstream processing.

🔹 Scope and Components Involved
Required Fields (from mapping document):

quote_id, event_type, cache_id, event_timestamp, product_id, source_system, etc.

Message Types Affected:

QuoteRequest, RatingRequest, PreCompRequest/Response

Pipeline Layers:

EventHub → DLT (Landed/Parse Logic) → Bronze Table

Reference Sources:

Field Mapping Document (provided by Mike)

RAML/Interface Contracts (for MQS message schema)

🔹 Validation Objectives
Confirm that all non-nullable business fields are present in each record.

Identify and flag records with:

Missing keys (e.g., quote_id is absent)

Null values in critical fields (e.g., cache_id is null)

Empty strings or placeholder values (e.g., "N/A", "unknown")

Detect upstream failures or schema mismatches that result in partial payloads.

🧪 Testing Approach
✅ Against Mapping Sheet + Bronze Schema
Cross-reference the field list from the mapping document against the actual structure and data within Bronze.

Create test messages:

Missing one or more critical fields

With fields set to null or empty string

Validate how these messages are ingested:

Are they allowed through?

Are they logged, quarantined, or marked invalid?

Profile Bronze layer records for null counts and anomalies across key columns.

📋 Validation Methods
Use automated data quality rules in DLT (e.g., expect(field IS NOT NULL)).

Run data profiling tools or queries (e.g., null % by field, frequency analysis).

Review data lineage logs to confirm if incomplete records have identifiable patterns (e.g., by source or message type).

✅ Success Criteria
100% of records in Bronze have values populated in all mandatory fields.

No records exist where critical fields are missing, null, or defaulted (unless explicitly allowed).

Pipeline logs detail any field-level errors and do not silently ingest incomplete records.

Optional fields behave according to business rules (nullable, optional, defaulted).

🧾 Exclusions
Field-level type validation is handled under EH-BR-02 – Schema Conformance.

Business rule-based field logic (e.g., “valid timestamp range”) is handled in BR-SL-05 or BIZ rules.

🗂 Mapped Data Quality Requirements
DQ Ref	Description
RL DQ03 – Completeness	Ensures all required fields are populated.
RL DQ05 – Validity	Fields meet expected structure and basic content rules.
RL DQ01 – Accuracy	Completeness enables trust in record quality across all layers.

🔐 Pre-requisites & Access Required
Access to:

Field mapping specification and interface documentation

Bronze table schema and DLT job configuration

Sample MQS messages with complete and incomplete field sets

Error log/quarantine zone (if incomplete records are redirected)
