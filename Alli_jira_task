DO
$$
DECLARE
    tbl RECORD;
    row_count BIGINT;
BEGIN
    FOR tbl IN
        SELECT tablename
        FROM pg_tables
        WHERE schemaname = 'public'  -- change schema if needed
    LOOP
        EXECUTE format('SELECT count(*) FROM public.%I', tbl.tablename) INTO row_count;
        RAISE NOTICE 'Table: %, Count: %', tbl.tablename, row_count;
    END LOOP;
END;
$$;
