Test Scenario: EH-BR-01 – Message Receipt Validation

This test ensures that every message sent from Azure EventHub is successfully captured and stored in the Bronze layer of the data platform. It's about confirming that the ingestion pipeline does not drop or miss any events during processing.

🔍 Description (Simplified):
Whenever an event is published to EventHub, it should show up in the Bronze Delta table.

This test validates that there’s a 1:1 match between sent and received messages.

It helps catch issues like message loss, connectivity failure, or ingestion logic errors.

✅ Key Integrity Checks:
Record count comparison between EventHub and Bronze.

Presence of expected message IDs in the Bronze layer.

Timestamps showing timely ingestion.

🧪 Example:
If 1,000 messages are sent to EventHub during a test window, we should find 1,000 matching records in the Bronze table (within the same timeframe), including metadata like message ID, ingestion time, and payload.

🎯 Expected Result:
All messages sent via EventHub are received in the Bronze layer with no loss or duplication.

📌 Requirement Mapped:
RL DQ01 – Accuracy
(Ensures data received is exactly what was sent, no more, no less.)

---------------------------------------

🧩 Verification Criteria
Match Count: Count of records in Bronze = number of test messages sent.

Match IDs: All test_ids from your payload exist in the Bronze table.

Ingestion Timestamp: _ingest_time or ingestion metadata exists and is current.

📋 Outcome
PASS: All test messages are present in Bronze with correct data.

FAIL: Missing messages, partial ingestion, or incorrect data fields.

🔐 Tools & Access Needed
Access to EventHub (send permissions)

Access to query Bronze Delta Table

Monitoring/logs access for ingestion job

📌 Requirement Mapping
RL DQ01 – Accuracy

RL DQ03 – Completeness

RL DQ09 – Traceability (if message_id is tracked)

