Test Summary Report: Replace Old Event Hub with New Event Hub

Introduction:
This test summary report outlines the testing performed to resolve the current production environment issue of creating a performance bottleneck in ingesting data (DCD-43436) by replacing the old Event Hub with a new Event Hub with partition enabled in the test environment. The objective was to validate the functionality and performance of the new Event Hub in receiving streaming data from the source system. The testing included deleting the old Event Hub and cleaning the existing checkpoints in the Databricks workflow before enabling them again.

Test Details:

Issue: Performance bottleneck in data ingestion (DCD-43436).
Testing Objective: Validate the replacement of the old Event Hub with a new Event Hub for improved data ingestion performance.
Test Environment: Test environment with partition enabled.
Testing Methodology: Functional testing, data consistency checks, and performance testing.
Test Results:

Message Received Count Verification:

Verified the message received count between the Azure portal and the workflow read for both CORE and SI.
The count matched, indicating successful data reception from the new Event Hub.
Differentiating Old and New Event Hub:

During validation, it was observed that it was difficult to differentiate between the state of the old and new Event Hubs as they had the same namespace.
Additional steps or naming conventions may be required to distinguish between the old and new Event Hubs effectively.
Checkpoint Deletion and Data Read:

In the test environment, checkpoints were deleted from the wrong path, resulting in a failure to read all the data coming into the new Event Hub initially.
However, subsequent verification through other workflows successfully retrieved all the data.
Recommendations:

Clear differentiation: To avoid confusion, ensure there is a clear differentiation between the old and new Event Hubs, possibly by incorporating additional steps or naming conventions.

Checkpoint Management: Verify and rectify the issue related to checkpoint deletion from the wrong path to ensure uninterrupted data reading from the new Event Hub.

Source System Assumption: It is assumed that the source system will not send already processed data after the change to the new Event Hub. This assumption should be validated and communicated to the source system team.

Risk Assessment: As this is a platform-oriented change, the risk is perceived to be low. However, ongoing monitoring and validation of the data ingestion process are recommended to ensure smooth operations.

Conclusion:
The testing performed to replace the old Event Hub with a new Event Hub in the test environment for resolving the performance bottleneck issue showed positive results. The message received count matched, indicating successful data ingestion. Recommendations have been provided to address the issues encountered during testing. Ongoing monitoring and validation of the data ingestion process are recommended to ensure continued performance improvements.

Note: This test summary report is based on the provided information and assumptions. It is important to conduct further testing and validation in the production environment before implementing the changes.
